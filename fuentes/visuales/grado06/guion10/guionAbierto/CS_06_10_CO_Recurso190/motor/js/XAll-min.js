function queryStringDecode(a){return decodeURIComponent(a.replace(/\+/g," "))}function queryStringEncode(a){return encodeURIComponent(a)}function getWindowQueryParam(d,a){var g=d.location.href;var f=g.indexOf("?",0);if(f>0){var e=g.substr(f+1,g.length);var c=e.split("&");for(var b=0;b<c.length;b++){$("#testDiv").html($("#testDiv").html()+" : "+c[b]+"</br>");if(c[b].indexOf(a+"=",0)==0){return queryStringDecode(c[b].substr(a.length+1,c[b].length))}}}return""}function getRecursiveQueryParam(b){var a=window;while(a!=null){var c=getWindowQueryParam(a,b);if(c!=""){return c}if(a==a.parent){break}else{a=a.parent}}return""}function getQueryParam(a){var f=location.href;var e=f.indexOf("?",0);if(e>0){var d=f.substr(e+1,f.length);var c=d.split("&");for(var b=0;b<c.length;b++){if(c[b].indexOf(a+"=",0)===0){return queryStringDecode(c[b].substr(a.length+1,c[b].length))}}}return""}function updateUrlParameter(a,d,c){var b=new RegExp("("+d+"=)[^&]+");return a.replace(b,"$1"+c)}var XHTML={isLinux:function(){if(navigator.platform.indexOf("Linux")!=-1){return true}else{return false}},getBrowserVersion:function(){var c=navigator.appName,b=navigator.userAgent,a;var d=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(d&&(a=b.match(/version\/([\.\d]+)/i))!=null){d[2]=a[1]}d=d?[d[1],d[2]]:[c,navigator.appVersion,"-?"];return parseFloat(d[1])},cancelBubblePropagation:function(a){if(!a){var a=window.event;a.cancelBubble=true}if(a.stopPropagation){a.stopPropagation()}},preventDefaultAction:function(a){if(!a){var a=window.event;a.returnValue=false}if(a.preventDefault){a.preventDefault()}},getElementValue:function(c){var b;var a=$(document.getElementById(c));if(a.prop("type")=="checkbox"){if(a.prop("checked")=="true"||a.prop("checked")=="1"){b="1"}else{b="0"}}else{b=a.prop("value")}return b},countElementMatches:function(j,b,c,h,g){var d;var e=0;for(d=0;d<b;d++){var f=j+"["+d+"]."+c;var a=XHTML.getElementValue(f);if(g){if(a==h){e++}}else{if(a!=h){e++}}}return e},setElementValue:function(a,c){var b=document.getElementById(a);if(b==null){return}if(b.type==="checkbox"){if(c=="1"||c==1||c==true||c=="true"){b.checked=true}else{if(c=="0"||c==0||c==false||c=="false"){b.checked=false}}}else{b.value=c}},setElementContent:function(b,a){var c=document.getElementById(b);if(c){c.innerHTML=a;return true}return false},getInputSelection:function(e){var h=0,c=0,g,d,b,a,f;e.focus();if(typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"){h=e.selectionStart;c=e.selectionEnd}else{d=document.selection.createRange();if(d&&d.parentElement()==e){a=e.value.length;g=e.value.replace(/\r\n/g,"\n");b=e.createTextRange();b.moveToBookmark(d.getBookmark());f=e.createTextRange();f.collapse(false);if(b.compareEndPoints("StartToEnd",f)>-1){h=c=a}else{h=-b.moveStart("character",-a);h+=g.slice(0,h).split("\n").length-1;if(b.compareEndPoints("EndToEnd",f)>-1){c=a}else{c=-b.moveEnd("character",-a);c+=g.slice(0,c).split("\n").length-1}}}}return{start:h,end:c}},setCaretPosition:function(b,c){if(b.setSelectionRange){b.focus();b.setSelectionRange(c,c)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",c);a.moveStart("character",c);a.select()}}},replace:function(d,b,c){var a=d.split(b);return a.join(c)},replaceLinks:function(h,c,g,b,e){var f="";var j=h.indexOf(c);while(j!=-1){f=f+h.substr(0,j);h=h.substr(j+c.length);var a=h.indexOf(b);var d=h.indexOf(g);var i=h.substr(0,a);var k=h.substr(a+b.length,d-(a+b.length));f+="<span style='color:"+e+";'><a href='"+i+"' target='_blank'>"+k+"</a></span>";h=h.substr(d+g.length);j=h.indexOf(c)}if(h.length>0){f+=h}return f},replaceLinksForPrint:function(h,c,g,b,e){var f="";var j=h.indexOf(c);while(j!=-1){f=f+h.substr(0,j);h=h.substr(j+c.length);var a=h.indexOf(b);var d=h.indexOf(g);var i=h.substr(0,a);var k=h.substr(a+b.length,d-(a+b.length));f+="<span style='color:"+e+";'><a href='"+i+"' target='_blank'>"+k+"</a> ("+i+")</span>";h=h.substr(d+g.length);j=h.indexOf(c)}if(h.length>0){f+=h}return f},xmlToHtml:function(a){a=XHTML.replace(a,"&","&amp;");a=XHTML.replace(a,"<","&lt;");a=XHTML.replace(a,">","&gt;");a=XHTML.replace(a,'"',"&quot;");a=XHTML.replace(a,"'","&apos;");a=XHTML.replace(a,"{{sub}}",'</span><span style="vertical-align:sub;">');a=XHTML.replace(a,"{{sup}}",'</span><span style="vertical-align:super;">');a=XHTML.replace(a,"{{/subsup}}","</span><span>");a=XHTML.replace(a,"{{normal}}","</span><span>");a=XHTML.replace(a,"{{cur}}",'</span><span style="font-style: italic;">');a=XHTML.replace(a,"{{neg}}",'</span><span style="font-weight: bold;">');a=XHTML.replace(a,"{{u}}",'</span><span style="text-decoration: underline;">');a=XHTML.replaceLinks(a,"{{link:","}}","||","#0000FF");a=XHTML.replace(a,"\r\n","<br/>");a=XHTML.replace(a,"\r","<br/>");a=XHTML.replace(a,"\n","<br/>");return"<span>"+a+"</span>"},xmlToHtmlForPrint:function(a){a=XHTML.replace(a,"&","&amp;");a=XHTML.replace(a,"<","&lt;");a=XHTML.replace(a,">","&gt;");a=XHTML.replace(a,'"',"&quot;");a=XHTML.replace(a,"'","&apos;");a=XHTML.replace(a,"{{sub}}",'</span><span style="vertical-align:sub;">');a=XHTML.replace(a,"{{sup}}",'</span><span style="vertical-align:super;">');a=XHTML.replace(a,"{{/subsup}}","</span><span>");a=XHTML.replace(a,"{{normal}}","</span><span>");a=XHTML.replace(a,"{{cur}}",'</span><span style="font-style: italic;">');a=XHTML.replace(a,"{{neg}}",'</span><span style="font-weight: bold;">');a=XHTML.replace(a,"{{u}}",'</span><span style="text-decoration: underline;">');a=XHTML.replaceLinksForPrint(a,"{{link:","}}","||","#0000FF");a=XHTML.replace(a,"\r\n","<br/>");a=XHTML.replace(a,"\r","<br/>");a=XHTML.replace(a,"\n","<br/>");return"<span>"+a+"</span>"},injectHTML:function(d,b){var c=$("iframe#"+d).get(0);var a=c.document;if(c.contentDocument){a=c.contentDocument}else{if(c.contentWindow){a=c.contentWindow.document}}if(a){a.open();a.writeln(b);a.close()}else{}},WindowSize:function(){var a=0;var b=0;if(!window.innerWidth){if(!(document.documentElement.clientWidth==0)){a=document.documentElement.clientWidth;b=document.documentElement.clientHeight}else{a=document.body.clientWidth;b=document.body.clientHeight}}else{a=window.innerWidth;b=window.innerHeight}return{width:a,height:b}},isComboBox:function(b){var a=$(b).prop("type");if(a!=undefined&&a.indexOf("select")==0){return true}else{return false}},isCheckBox:function(a){if($(a).prop("type")=="checkbox"){return true}else{return false}},isChecked:function(a){if(XHTML.isCheckBox(a)){return $(a).is(":checked")}},split:function(e,b){var c=e.split(b);var g=c.length;if(g==1){c=new Array();c.push(e);return(c)}var d,f=0;for(var a=0;a<g-1;a++){d=a+1+f;c.splice(d,0,b);f++}return c},splitStringArray:function(d,c){var e=null,a=new Array();for(var b=0;b<d.length;b++){e=XHTML.split(d[b],c);a=a.concat(e)}return a}};var XDOM={newXML:function(a){if(jQuery.browser.msie){var c=new ActiveXObject("Microsoft.XMLDOM");if(a!=""&&a!=null&&a!=undefined){var b="<"+a+"></"+a+">";c.loadXML(b)}return c}else{if(document.implementation.createDocument){return document.implementation.createDocument("",a,null)}}return null},newXMLFromString:function(b){var c;var a;if(jQuery.browser.msie){a=new ActiveXObject("Microsoft.XMLDOM");a.async=false;a.loadXML(b)}else{c=new DOMParser();a=c.parseFromString(b,"text/xml")}return a},newXMLFromURL:function(a,c,b){$.ajax({type:"GET",url:a,async:false,dataType:($.browser.msie)?"text":"xml",success:function(e){var d;if(typeof e==="string"){d=new ActiveXObject("Microsoft.XMLDOM");d.async=false;d.loadXML(e)}else{d=e}if(c!=null||c!=undefined||c!=""){c(d)}},error:function(d,f,e){if(b!=null||b!=undefined||b!=""){b(f,e)}}})},cloneXML:function(e){var d;if(typeof(ActiveXObject)!="undefined"){d=new ActiveXObject("Microsoft.XMLDOM");var a=e.documentElement;var c=a.cloneNode(true);d.appendChild(c)}else{d=e.implementation.createDocument(e.namespaceURI,null,null);var b=d.importNode(e.documentElement,true);d.appendChild(b)}return(d)},mergeXML:function(g,f,d,e){var b=XDOM.cloneXML(g);var a=$(b);var c=$(f);c.children(d).children().each(function(){var k=this.nodeName;var i=a.children(d).children(k)[0];var h;if(i){h=i.nodeName}else{h=""}if(e==null||e==undefined){e=2}var j=false;switch(e){case 1:if(k==h){j=true}break;case 3:if(k!=h){j=true}break;case 4:break;case 2:default:j=true}if(j){XDOM.removeNode(i);XDOM.appendNode(a.children(d)[0],this)}});return b},XMLToString:function(c){var b;if(window.ActiveXObject){b=c.xml}else{var a=new XMLSerializer();b=a.serializeToString(c)}return b},nodeByPath:function(g,l){var d=l.split(".");var f=$(g).children("motor");var e;var c=f[0];for(e=0;e<d.length;e++){var b=d[e];if(e==(d.length-1)){var j;if(b.indexOf("@")!==-1){if(c==null){return null}return c}else{if(b.indexOf("[")>0){var h=b.substring(b.indexOf("[")+1,b.indexOf["]"]);h=parseInt(h);var k=b.substring(0,b.indexOf("["));j=$(c).children(k);if(j==null||j.length==0||h>(j.length-1)){return null}return j[h]}else{j=$(c).children(b);if(j==null||j.length==0){return null}return j[0]}}}else{var a;if(b.indexOf("[")>0){var h=b.substring(b.indexOf("[")+1,b.indexOf["]"]);h=parseInt(h);var k=b.substring(0,b.indexOf("["));a=$(c).children(k);if(a==null||a.length==0||h>(a.length-1)){return null}c=a[h]}else{a=$(c).children(b);if(a==null||a.length==0){return null}c=a[0]}}}return null},valueOfNode:function(g,m){var d=m.split(".");var f=$(g).children();var e;var c=f[0];for(e=0;e<d.length;e++){var b=d[e];if(e==(d.length-1)){var k;if(b.indexOf("@")!==-1){if(c==null){return""}var j=b.substring(1);return $(c).attr(j)}else{if(b.indexOf("[")>0){var h=b.substring(b.indexOf("[")+1,b.indexOf["]"]);h=parseInt(h);var l=b.substring(0,b.indexOf("["));k=$(c).children(l);if(k==null||k.length==0||h>(k.length-1)){return""}return $(k[h]).text()}else{k=$(c).children(b);if(k==null||k.length==0){return""}return $(k[0]).text()}}}else{var a;if(b.indexOf("[")>0){var h=b.substring(b.indexOf("[")+1,b.indexOf["]"]);h=parseInt(h);var l=b.substring(0,b.indexOf("["));a=$(c).children(l);if(a==null||a.length==0||h>(a.length-1)){return""}c=a[h]}else{a=$(c).children(b);if(a==null||a.length==0){return""}c=a[0]}}}return""},valueOfXMLNode:function(a){return $(a).text()},newNode:function(c){var b=XDOM.newXML(c);var a=$(b).children(c)[0];return a},removeNode:function(a){if(a==null||a==undefined){return}if(jQuery.browser.msie==true){a.parentNode.removeChild(a)}else{$(a).remove()}},appendNode:function(c,a){var b=a.cloneNode(true);c.appendChild(b)},getTextNodes:function(a){return $(a).contents().filter(function(){return(((this.nodeName=="#text"&&this.nodeType=="3")||this.nodeType=="4")&&($.trim(this.nodeValue.replace("\n",""))!==""))})},setNodeValue:function(b,c){var a=XDOM.getTextNodes(b);if(a.get(0)){a.get(0).nodeValue=c}else{b.textContent=c}},setNewNodeCDATAValue:function(b,c,d){var a=b.createCDATASection(d);c.appendChild(a);return a}};function XResize(b,a){this.R_WIDTH=950;this.R_HEIGHT=608;this._initialized=false;this._debug=a||false;this.left;this.top;this.w;this.h;this.scale;this.id_name=b;this.resizeCallbacks=new Array();this.initJQuery=function(){var d;var c=navigator.userAgent.toLowerCase();jQuery.browser=new Object();jQuery.browser.msie=/msie|trident/.test(c);d=c.match(/(msie|trident)\s*(?:\/\s*)?(.[^;]*)/);if(d){jQuery.browser.engine=$.trim(d[1]);jQuery.browser.version=parseFloat($.trim(d[2]))}else{jQuery.browser.engine="";jQuery.browser.version=-1}};this.initXResize=function(){var c=this;this.initJQuery();if(c._initialized==true){return}var d=$(document.getElementById(c.id_name));$("#ccontainer").height(d.height()+2);this.scale=1;this._needPatch=false;this._isIOS=false;this._isNativeBrowser=false;this._actionsReady=false;this._initialized=true;this.repositionEnabled=true;c.onDOMContentLoaded(c)};this.onDOMContentLoaded=function(c){var e=c;var d=navigator.userAgent;e._isIOS=(/iPhone|iPad|iPod/i.test(d));e._isNativeBrowser=((d.indexOf("Mozilla/5.0")>-1&&d.indexOf("Android ")>-1&&d.indexOf("AppleWebKit")>-1)&&!(d.indexOf("Chrome")>-1));if(e.needContainerSizePatch()){e._needPatch=true}if(window.attachEvent){window.attachEvent("onresize",function(){if(e.repositionEnabled==true){e.onResizeEvent()}})}else{if(window.addEventListener){window.addEventListener("resize",function(){if(e.repositionEnabled==true){e.onResizeEvent()}},true)}}};this.styleToObject=function(f){var g=f.split(";");var e;var d=new Object();for(e=0;e<g.length;e++){var c=g[e].trim();if(c==""){continue}var h=g[e].split(":");d[h[0].toLowerCase().trim()]=h[1].toLowerCase().trim()}return d};this.needContainerSizePatch=function(){var e=this;if($(e._mcContainer).parent().is("body")==false){return false}var d=$(e._mcContainer).attr("style");if(d){var c=this.styleToObject(d);if(c.height=="100%"){return true}}return false};this.onResizeEvent=function(){var c=this;if(c._isIOS){setTimeout(function(){c.reposition()},500)}else{c.reposition()}};this.reposition=function(){var j=this;var l=$(document.getElementById(j.id_name));var g=document.getElementById("ccontainer");var s=$(g);var f=document.getElementById("topcontainer");var k=$(f);var r=k.width();var p=k.height();if(j._needPatch){var o=j.patchContainerSize();p=o.y;if(j._isIOS){r=o.x}}if(j.w!=r||j.h!=p){l.css("visibility","hidden");var h=s.width();var e=s.height();var n;var d;var q=j.getScaledDimensions(r,p,g);n=q.x;d=q.y;var c=n/h;var t=d/e;s.css("-ms-transform-origin","0 0");s.css("-ms-transform-origin-x","0px");s.css("-ms-transform-origin-y","0px");s.css("-webkit-transform-origin-x","0px");s.css("-webkit-transform-origin-y","0px");s.css("-moz-transform-origin-x","0px");s.css("-moz-transform-origin-y","0px");s.css("-o-transform-origin-x","0px");s.css("-o-transform-origin-y","0px");s.css("transform-origin-x","0px");s.css("transform-origin-y","0px");s.css("transform-origin","0 0");s.css("-ms-transform","scale("+c+","+t+")");s.css("-moz-transform","scale("+c+","+t+")");s.css("-o-transform","scale("+c+","+t+")");s.css("-webkit-transform","scale("+c+","+t+")");s.css("transform","scale("+c+","+t+")");s.css("margin-left",(r/2-(h*c)/2)+"px");s.css("top",(p/2-(e*t)/2)+"px");j.left=(r/2-(h*c)/2);j.top=(p/2-(e*t)/2);j.w=r;j.h=p;j.scale=c;l.css("visibility","visible");if(j.resizeCallbacks.length>0){for(var m=0;m<j.resizeCallbacks.length;m++){j.resizeCallbacks[m]()}}}};this.getScaledDimensions=function(i,g,f){var e=f;var c=i;var j=g;var h=e.offsetWidth;var d=e.offsetHeight;var k={x:0,y:0};if(c/j>h/d){k.y=j;k.x=h*(j/d)}else{k.x=c;k.y=d*(c/h)}return k};this.patchContainerSize=function(){var c=window.innerWidth?window.innerWidth:$(window).width();var f=window.innerHeight?window.innerHeight:$(window).height();var e="none";if(this._isIOS){var d=window;while(d.parent!=null&&d.parent!=d){d=d.parent}if(d.orientation==0||d.orientation==180){if(c>768){c=768}e="v:"+d.orientation}else{e="h: "+d.orientation}}return{x:c,y:f}};this.localToGlobal=function(d){var c={x:d.x*this.scale+this.left,y:d.y*this.scale+this.top,width:d.width*this.scale,height:d.height*this.scale};return c}};